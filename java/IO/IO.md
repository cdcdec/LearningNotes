# Java IO流

## 流的分类

### 输入流和输出流

输入流:只能从中读取数据,而不能向其写入数据;===InputStream和Reader作为基类. 输出流:只能向其写入数据,而不能从中读取数据。===OutputStream和Writer作为基类.

内存到硬盘===输出流(从内存出去); 硬盘到内存===输入流(进入到内存);

> 这里的输出输入都是从程序运行所在内存的角度来划分的.

### 字节流和字符流

字节流:操作的数据单元是8位的字节,基类:InputStream和OutputStream; 字符流:操作的数据单元是16位的字符,基类:Reader和Writer;

### 节点流和处理流

节点流:可以从/向一个特定的IO设备(如磁盘、网络)读/写数据的流,称为节点流,也称为低级流。当使用节点流进行输入/输出时,程序直接连接到实际的数据源,和实际的输入/输出节点连接。如:FileInputStream,FileReader.

处理流:用于对一个已经存在的流进行连接或封装,通过封装后的流来实现数据读/写功能,也称为高级流.(流的构造器不是一个物理节点,而是已存在的流,这样的流就是处理流)当使用处理流进行输入/输出时,程序不会直接连接到实际的数据源,没有和实际的输入/输出节点连接,如:PrintStream.BufferedReader.

### 流的概念模型

#### 流的基本概念模型

Java的IO流的40多个类都是从如下4个抽象基类派生的:

- InputStream/Reader:所有输入流的基类,字节输入流/字符输入流;
- OutputStream/Writer:所有输出流的基类,字节输出流/字符输出流;

输入流把设备抽象成一个"水管",这个水管里面的每个"水滴"依次排列,输入流使用隐式的记录指针来表示当前正准备从哪个"水滴"开始读取,每当程序从InputStream或Reader里取出一个或多个"水滴"后,记录指针自动向后移动,InputStream和Reader都提供了一些方法来控制指针的移动。

输出流把设备抽象成一个"水管",这个"水管"里面没有任何水滴,当执行输出时,程序相当于依次把"水滴"放入到输出流的水管中,输出流同样采用隐式的记录指针来标识当前水滴即将放入的位置,每当程序向OutputStream或Writer里输出一个或多个水滴后,记录指针自动向后移动。

#### 处理流模型

- 性能的提高:主要以增加缓冲的方式来提高输入/输出效率;
- 操作的便捷:一次输入/输出大批量的内容,而不是输入/输出一个或多个"水滴"

### Java输入/输出流体系中常用的流分类

分类   | 字节输入流           | 字节输出流            | 字符输入流      | 字符输出流
---- | --------------- | ---------------- | ---------- | ----------
抽象基类 | InputStream     | OutputStream     | Reader     | Writer
访问文件 | FileInputStream | FileOutputStream | FileReader | FileWriter

### 转换流

Java只提供了将字节流转换成字符流的转换流。 IntputStreamReader将字节输入流转换成字符输入流,OutputStreamWriter将字节输出流转换成字符输出流.

> Apache Commons IO(<http://commons.apache.org/proper/commons-io/>)
